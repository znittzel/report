(function(e,t){e.Slider=function(t,n){this.$el=e(n);this._init(t)};e.Slider.defaults={current:0,bgincrement:50,autoplay:false,interval:4e3};e.Slider.prototype={_init:function(t){this.options=e.extend(true,{},e.Slider.defaults,t);this.$slides=this.$el.children("div.da-slide");this.slidesCount=this.$slides.length;this.current=this.options.current;if(this.current<0||this.current>=this.slidesCount){this.current=0}this.$slides.eq(this.current).addClass("da-slide-current");var n=e('<nav class="da-dots"/>');for(var r=0;r<this.slidesCount;++r){n.append("<span/>")}n.appendTo(this.$el);this.$pages=this.$el.find("nav.da-dots > span");this.$navNext=this.$el.find("span.da-arrows-next");this.$navPrev=this.$el.find("span.da-arrows-prev");this.isAnimating=false;this.bgpositer=0;this.cssAnimations=Modernizr.cssanimations;this.cssTransitions=Modernizr.csstransitions;if(!this.cssAnimations||!this.cssAnimations){this.$el.addClass("da-slider-fb")}this._updatePage();this._loadEvents();if(this.options.autoplay){this._startSlideshow()}},_navigate:function(e,t){var n=this.$slides.eq(this.current),r,i=this;if(this.current===e||this.isAnimating)return false;this.isAnimating=true;var s,o,u;if(!t){e>this.current?u="next":u="prev"}else{u=t}if(this.cssAnimations&&this.cssAnimations){if(u==="next"){s="da-slide-toleft";o="da-slide-fromright";++this.bgpositer}else{s="da-slide-toright";o="da-slide-fromleft";--this.bgpositer}this.$el.css("background-position",this.bgpositer*this.options.bgincrement+"% 0%")}this.current=e;r=this.$slides.eq(this.current);if(this.cssAnimations&&this.cssAnimations){var a="da-slide-toleft da-slide-toright da-slide-fromleft da-slide-fromright";n.removeClass(a);r.removeClass(a);n.addClass(s);r.addClass(o);n.removeClass("da-slide-current");r.addClass("da-slide-current")}if(!this.cssAnimations||!this.cssAnimations){r.css("left",u==="next"?"100%":"-100%").stop().animate({left:"0%"},1e3,function(){i.isAnimating=false});n.stop().animate({left:u==="next"?"-100%":"100%"},1e3,function(){n.removeClass("da-slide-current")})}this._updatePage()},_updatePage:function(){this.$pages.removeClass("da-dots-current");this.$pages.eq(this.current).addClass("da-dots-current")},_startSlideshow:function(){var e=this;this.slideshow=setTimeout(function(){var t=e.current<e.slidesCount-1?t=e.current+1:t=0;e._navigate(t,"next");if(e.options.autoplay){e._startSlideshow()}},this.options.interval)},page:function(e){if(e>=this.slidesCount||e<0){return false}if(this.options.autoplay){clearTimeout(this.slideshow);this.options.autoplay=false}this._navigate(e)},_loadEvents:function(){var t=this;this.$pages.on("click.cslider",function(n){t.page(e(this).index());return false});this.$navNext.on("click.cslider",function(e){if(t.options.autoplay){clearTimeout(t.slideshow);t.options.autoplay=false}var n=t.current<t.slidesCount-1?n=t.current+1:n=0;t._navigate(n,"next");return false});this.$navPrev.on("click.cslider",function(e){if(t.options.autoplay){clearTimeout(t.slideshow);t.options.autoplay=false}var n=t.current>0?n=t.current-1:n=t.slidesCount-1;t._navigate(n,"prev");return false});if(this.cssTransitions){if(!this.options.bgincrement){this.$el.on("webkitAnimationEnd.cslider animationend.cslider OAnimationEnd.cslider",function(e){if(e.originalEvent.animationName==="toRightAnim4"||e.originalEvent.animationName==="toLeftAnim4"){t.isAnimating=false}})}else{this.$el.on("webkitTransitionEnd.cslider transitionend.cslider OTransitionEnd.cslider",function(e){if(e.target.id===t.$el.attr("id"))t.isAnimating=false})}}}};var n=function(e){if(this.console){console.error(e)}};e.fn.cslider=function(t){if(typeof t==="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e.data(this,"cslider");if(!i){n("cannot call methods on cslider prior to initialization; "+"attempted to call method '"+t+"'");return}if(!e.isFunction(i[t])||t.charAt(0)==="_"){n("no such method '"+t+"' for cslider instance");return}i[t].apply(i,r)})}else{this.each(function(){var n=e.data(this,"cslider");if(!n){e.data(this,"cslider",new e.Slider(t,this))}})}return this}})(jQuery)